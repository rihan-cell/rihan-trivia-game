<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rihan Trivia Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f0f0f0;
    }
    .quiz-container {
      background: white;
      width: 90%;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
    }
    button {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #ddd;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover:not(:disabled) {
      background: #bbb;
    }
    .hidden { display: none; }
    .progress-bar {
      width: 100%;
      background: #ddd;
      border-radius: 8px;
      margin: 10px 0;
      overflow: hidden;
    }
    .progress-fill {
      height: 12px;
      width: 0%;
      background: #4caf50;
      transition: width 0.3s;
    }
    .timer {
      font-size: 18px;
      margin: 10px 0;
      color: #333;
    }
    .correctAnswer {
      background: #4caf50 !important;
      color: white;
    }
    .wrongAnswer {
      background: #f44336 !important;
      color: white;
    }
    @keyframes pop {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>

<div class="quiz-container">
  <h1>Rihan Trivia üéØ</h1>
  <div id="progressText"></div>
  <div class="progress-bar hidden" id="progressBar">
    <div class="progress-fill" id="progressFill"></div>
  </div>
  <div class="timer hidden" id="timer"></div>
  <div id="quiz"></div>
  <div id="result" class="hidden"></div>
</div>

<audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3d0f04.mp3?filename=correct-2-46134.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_64a83d.mp3?filename=wrong-47985.mp3"></audio>
<audio id="endSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_21c47c.mp3?filename=game-over-arcade-6435.mp3"></audio>

<script>
const quizData = [
  { question: "What is Rihan‚Äôs favorite color?", options: ["Blue", "Black", "Green", "Red"], answer: "Black" },
  { question: "Which sport does Rihan like the most?", options: ["Cricket", "Football", "Basketball", "Hockey"], answer: "Football" },
  { question: "Rihan‚Äôs favorite food?", options: ["Pizza", "Biryani", "Burger", "Pasta"], answer: "Biryani" },
  // Add more questions here...
];

const quizContainer = document.getElementById("quiz");
const resultContainer = document.getElementById("result");
const progressText = document.getElementById("progressText");
const progressBar = document.getElementById("progressBar");
const progressFill = document.getElementById("progressFill");
const timerElement = document.getElementById("timer");

let currentQuestion = 0;
let score = 0;
let streak = 0;
let timer;
let timeLeft = 10;

function startGame() {
  currentQuestion = 0;
  score = 0;
  streak = 0;
  resultContainer.classList.add("hidden");
  progressBar.classList.remove("hidden");
  timerElement.classList.remove("hidden");
  showQuestion();
}

function showQuestion() {
  clearInterval(timer);

  if (currentQuestion >= quizData.length) {
    return endGame();
  }

  let q = quizData[currentQuestion];
  progressText.innerText = `Question ${currentQuestion + 1} of ${quizData.length}`;
  progressFill.style.width = `${((currentQuestion) / quizData.length) * 100}%`;

  let optionsHTML = q.options.map(opt => 
    `<button onclick="checkAnswer('${opt}','${q.answer}', this)">${opt}</button>`
  ).join("");

  quizContainer.innerHTML = `
    <h2>${q.question}</h2>
    <div class="options">${optionsHTML}</div>
  `;

  startTimer(q.answer);
}

function startTimer(correctAnswer) {
  timeLeft = 10;
  timerElement.innerText = `‚è≥ Time left: ${timeLeft}s`;

  timer = setInterval(() => {
    timeLeft--;
    timerElement.innerText = `‚è≥ Time left: ${timeLeft}s`;

    if (timeLeft <= 0) {
      clearInterval(timer);
      handleTimeout(correctAnswer);
    }
  }, 1000);
}

function handleTimeout(correctAnswer) {
  const optionButtons = document.querySelectorAll(".options button");
  optionButtons.forEach(b => {
    b.disabled = true;
    if (b.innerText === correctAnswer) {
      b.classList.add("correctAnswer");
    }
  });

  streak = 0;
  setTimeout(() => {
    currentQuestion++;
    showQuestion();
  }, 1200);
}

function checkAnswer(selected, correct, btn) {
  clearInterval(timer);

  const optionButtons = document.querySelectorAll(".options button");

  if (selected === correct) {
    score++;
    streak++;
    document.getElementById("correctSound").play();
    btn.classList.add("correctAnswer");

    if (streak % 3 === 0) {
      showStreakMessage("üî• Hot Streak! You‚Äôre on fire!");
    }
  } else {
    streak = 0;
    document.getElementById("wrongSound").play();
    btn.classList.add("wrongAnswer");

    // highlight the real correct answer
    optionButtons.forEach(b => {
      if (b.innerText === correct) {
        b.classList.add("correctAnswer");
      }
    });
  }

  // disable all buttons so user can‚Äôt click multiple
  optionButtons.forEach(b => b.disabled = true);

  setTimeout(() => {
    currentQuestion++;
    showQuestion();
  }, 1200);
}

function showStreakMessage(msg) {
  const streakMsg = document.createElement("div");
  streakMsg.innerText = msg;
  streakMsg.style.marginTop = "10px";
  streakMsg.style.fontSize = "18px";
  streakMsg.style.color = "gold";
  streakMsg.style.animation = "pop 0.5s ease-in-out";
  quizContainer.appendChild(streakMsg);

  setTimeout(() => streakMsg.remove(), 1500);
}

function endGame() {
  document.getElementById("endSound").play();
  quizContainer.innerHTML = "";
  progressText.classList.add("hidden");
  progressBar.classList.add("hidden");
  timerElement.classList.add("hidden");
  resultContainer.classList.remove("hidden");

  let message = "";
  let medal = "";

  if (score >= 17) {
    message = "You are Rihan‚Äôs Right Hand ü§ù ‚Äì you know him better than himself!";
    medal = "üèÜ Gold Medal!";
  } else if (score >= 14) {
    message = "You know Rihan very well üòé ‚Äì almost like a best friend.";
    medal = "ü•à Silver Medal!";
  } else {
    message = "Oops üò¨ You don‚Äôt really know Rihan‚Ä¶ maybe spend more time with him!";
    medal = "ü•â Bronze Medal!";
  }

  resultContainer.innerHTML = `
    <h2 class="score">Game Over! üéâ<br>Your score: ${score}/${quizData.length}</h2>
    <p style="font-size:18px; margin-top:10px;">${message}</p>
    <p style="font-size:20px; margin-top:10px;">${medal}</p>
    <button onclick="startGame()">Play Again</button>
  `;
  progressFill.style.width = "0%";
}

startGame();
</script>
</body>
</html>
